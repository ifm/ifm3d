// For format details, see https://aka.ms/devcontainer.json. For config options, see the README at:
// https://github.com/microsoft/vscode-dev-containers/tree/v0.191.0/containers/cpp
{
	"name": "ifm3d:v1.2.6",
	"image": "ghcr.io/ifm/ifm3d:v1.2.6-ubuntu-amd64",
	"dockerComposeFile": ["../docker-compose.yml"],
	"service": "container-2",
	// "build": {
	// 	"dockerfile": "Dockerfile",
	// 	// Update 'VARIANT' to pick an Debian / Ubuntu OS version: debian-11, debian-10, debian-9, ubuntu-20.04, ubuntu-18.04
	// 	"args": { "VARIANT": "ubuntu-20.04" }
	// },
	"runArgs": [ "--cap-add=SYS_PTRACE", "--security-opt", "seccomp=unconfined"],

	// Add the IDs of extensions you want installed when the container is created.
	"customizations": {"vscode": {
		"extensions": [
			"alefragnani.Bookmarks",
			"bungcip.better-toml",
			"CoenraadS.bracket-pair-colorizer",
			"cschlosser.doxdocgen",
			"dendron.dendron",
			"dendron.dendron-paste-image",
			"eamodio.gitlens",
			"foam.foam-vscode",
			"GitHub.copilot",
			"GitHub.vscode-pull-request-github",
			"Gruntfuggly.todo-tree",
			"hbenl.vscode-test-explorer",
			"jeff-hykin.better-cpp-syntax",
			"josetr.cmake-language-support-vscode",
			"lextudio.restructuredtext",
			"littlefoxteam.vscode-python-test-adapter",
			"mhutchie.git-graph",
			"ms-azuretools.vscode-docker",
			"ms-dotnettools.vscode-dotnet-runtime",
			"ms-iot.vscode-ros",
			"ms-python.isort",
			"ms-python.python",
			"ms-python.vscode-pylance",
			"ms-toolsai.jupyter",
			"ms-toolsai.jupyter-keymap",
			"ms-toolsai.jupyter-renderers",
			"ms-toolsai.vscode-jupyter-cell-tags",
			"ms-toolsai.vscode-jupyter-slideshow",
			"ms-vscode-remote.remote-containers",
			"ms-vscode-remote.remote-ssh",
			"ms-vscode-remote.remote-ssh-edit",
			"ms-vscode-remote.remote-wsl",
			"ms-vscode.cmake-tools",
			"ms-vscode.cpptools",
			"ms-vscode.cpptools-extension-pack",
			"ms-vscode.cpptools-themes",
			"ms-vscode.remote-explorer",
			"ms-vscode.test-adapter-converter",
			"ms-vsliveshare.vsliveshare",
			"ms-vsliveshare.vsliveshare-audio",
			"nonanonno.vscode-ros2",
			"rioj7.vscode-json-validate",
			"ritwickdey.LiveServer",
			"rkevin.nano-keybindings",
			"ryuta46.multi-command",
			"spadin.remote-x11",
			"spadin.remote-x11-ssh",
			"streetsidesoftware.code-spell-checker",
			"streetsidesoftware.hunspell",
			"tomoki1207.pdf",
			"trond-snekvik.simple-rst",
			"twxs.cmake",
			"xaver.clang-format",
			"yzane.markdown-pdf",
		]
	}},
	

	// Use 'forwardPorts' to make a list of ports inside the container available locally.
	// "forwardPorts": [],

	// Use 'postCreateCommand' to run commands after the container is created.
	"postCreateCommand": "bash scripts/install-dev-tools.sh",

	// Comment out connect as root instead. More info: https://aka.ms/vscode-remote/containers/non-root.
	// Mount points in the container
	"mounts": [
		"source=${localEnv:HOME}${localEnv:USERPROFILE},target=/host-home-folder,type=bind,consistency=cached"
	],
	"shutdownAction": "none"
}
